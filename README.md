# netVax

Simulation study to identify indirect protection of vaccination with a transmissible vaccine.
## shinyTrans
- app.R: code for Shiny app to get required sample sizes of trials comparing transmissible vaccines to traditional vaccines. The app is available at https://j-k-s.shinyapps.io/shinyTrans/
## code/twostage/
### analysis/revision:
- Scripts used for analysis of simulation data comparing transmissible vaccine to traditional vaccine. These file obtains the required sample sizes using the simulation bank generated by the files in code/twostage/sim. Each file is named as (Poisson contact structure or "" for overdispersed contact structure)_antici_(Estimand of interest).R.
### analysis/novax:
- Scripts used for analysis of simulation data comparing transmissible vaccine to no vaccine. These file obtains the required sample sizes using the simulation bank generated by the files in code/twostage/sim. Each file is named as (total protection or "" for indirect protection)_sim_trial_naive_(Poisson contact structure or "" for overdispersed contact structure)_(anticipatory trial or "" for reactionary trial)_("" for vaccine efficacy = 1 or leak for vaccine efficacy = 0.8).R.
### figs: 
- These are scripts used to create Figures 2, 3, and S3
### prelim: 
- scripts used to create preliminary data, i.e., transmission rate that corresponds to the input R0 for each type of network structure. getPrelim_SEIR_Pois.py obtains these parameters when the contact structure is Poisson distributed while getPrelim_SEIR.py obtains these parameters when the contact structure is overdispersed (k=1).
### sim/revision: 
- Scripts used to create simulation bank for analysis when comparing transmissible vaccine to traditional vaccine. sim_twostage_SEIR_antici_revision.py creates simulations for overdispersed contact structures where trials are anticipatory, sim_twostage_SEIR_Pois_antici_revision.py creates simulations for Poisson contact structures where trials are anticipatory, and sim_twostage_SEIR_Pois_revision.py creates simulations for Poisson contact structures where trials are reactionary.
- Users can specify the following epidemiological parameters for the set of simulations they wish to create: number of animals per cluster, R0 of the wildtype pathogen, R0 of the vaccine, vaccine efficacy, percentage initially vaccinated, whether the vaccine is traditional or transmissible, and the number of simulations users wish to create.
## sim/novax: 
- Scripts used for analysis of simulation data comparing transmissible vaccine to no vaccine. sim_twostage_SEIR.py create simulations for overdispersed contact structures where trials are reactionary, sim_twostage_SEIR_Pois.py creates simulations for Poisson contact structures where trials are reactionary, sim_twostage_SEIR_antici.py creates simulations for overdispersed contact structures where trials are anticipatory, and sim_twostage_SEIR_Pois_antici.py creates simulations for Poisson contact structures where trials are anticipatory.
## code_output/
### figs:
- Figures 2, 3, and S3
### prelim: 
- Preliminary data necessary for simulations, i.e., transmission rate that corresponds to the input R0 for each type of network structure. See above section "code/twostage/prelim" for more details.
### twostage/rData: 
- All output files by scripts in code/twostage/analysis. See above section "code/twostage/analysis/revision" for more details.
### twostage/sims: 
- All simulations output by scripts in "code/twostage/sim"

These programs are a work in progress, as we work to improve usability, error-catching, and speed of analysis. If you find errors, please contact Justin Sheen at jsheen (at) princeton (dot) edu.

Last Update: March 16, 2024
